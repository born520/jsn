<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Shorts Player</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<style>
*{box-sizing:border-box;} body,html{margin:0;padding:0;width:100%;height:100%;background:#000;overflow:hidden;}
.swiper{width:100%;height:100%;max-width:480px;margin:0 auto;}
.swiper-slide{width:100%;height:100%;position:relative;background:#000;overflow:hidden;}
.thumb{position:absolute;top:0;left:0;width:100%;height:100%;z-index:5;}
.thumb img{width:100%;height:100vh;object-fit:cover;}
.vid-wrap{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;}
.player-wrap{position:absolute;top:0;left:50%;transform:translateX(-50%);width:177.78vh;height:100%;z-index:2;}
@media(max-aspect-ratio:9/16){.player-wrap{width:320%;left:-110%;}}
.sub-box{position:absolute;left:50%;transform:translateX(-50%);bottom:12%;width:90%;text-align:center;color:#fff;z-index:60;background:rgba(0,0,0,0.5);padding:10px;border-radius:8px;opacity:0;transition:0.2s;}
.sub-box.show{opacity:1;} .top-header{position:absolute;top:50px;left:0;width:100%;color:#fff;text-align:center;z-index:10;font-weight:bold;text-shadow:1px 1px 2px #000;}
.play-btn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:70px;height:70px;z-index:55;background:rgba(0,0,0,0.6);border-radius:50%;display:flex;justify-content:center;align-items:center;}
.play-btn::after{content:"";width:0;height:0;border-left:25px solid #fff;border-top:15px solid transparent;border-bottom:15px solid transparent;margin-left:5px;}
.smart-layer{position:absolute;top:0;left:0;width:100%;height:100%;z-index:50;cursor:pointer;}
</style></head><body>
<div class="swiper"><div class="swiper-wrapper" id="wrap"></div></div>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
var list = [{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/01.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""},{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/02.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""},{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/03.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""},{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/04.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""},{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/05.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""},{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/06.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""},{"id":null,"title":"","poster":"https://born520.github.io/jsn/images/07.jpg","ranges":[{"s":0,"e":0}],"top":"","sub":""}];
var swiper, players={}, timer=null, interacted=false;
function init(){
  var w=document.getElementById("wrap");
  for(var i=0; i<list.length; i++){
    var v=list[i]; var d=document.createElement("div"); d.className="swiper-slide";
    var tHtml='<div class="thumb" id="t-'+i+'"><img src="'+v.poster+'"></div>';
    var pHtml=v.id ? '<div class="vid-wrap"><div class="player-wrap"><div id="p-'+i+'"></div></div></div>' : '';
    var cHtml='<div class="smart-layer" onclick="hL('+i+')"></div>';
    if(v.id) cHtml+='<div class="play-btn" id="b-'+i+'" onclick="hP('+i+')"></div>';
    var sHtml='<div class="sub-box" id="s-'+i+'">'+v.sub+'</div>';
    var hHtml=v.top ? '<div class="top-header">'+v.top+'</div>' : '';
    d.innerHTML=tHtml+pHtml+cHtml+sHtml+hHtml; w.appendChild(d);
  }
  swiper=new Swiper(".swiper",{direction:"vertical",on:{slideChange:onSC}}); loadYT();
} function loadYT(){ var t=document.createElement("script"); t.src="https://www.youtube.com/iframe_api"; document.body.appendChild(t); }
window.onYouTubeIframeAPIReady=function(){ for(var i=0;i<list.length;i++){ if(list[i].id){ players[i]=new YT.Player("p-"+i,{videoId:list[i].id,playerVars:{"controls":0,"modestbranding":1,"playsinline":1,"rel":0},events:{"onStateChange":onSTCH}}); } } };
function onSTCH(e){ var i=parseInt(e.target.getIframe().id.split("-")[1]); var b=document.getElementById("b-"+i),t=document.getElementById("t-"+i),s=document.getElementById("s-"+i); if(e.data===1){ if(b)b.style.display="none"; if(t)t.style.display="none"; if(list[i].sub)s.classList.add("show"); startM(i); } else if(e.data===2){ if(b)b.style.display="flex"; } }
function onSC(){ stopA(); var idx=swiper.activeIndex; if(interacted && list[idx].id) setTimeout(function(){ playV(idx); },300); }
function hP(i){ interacted=true; playV(i); } function hL(i){ if(!interacted){ interacted=true; if(list[i].id) playV(i); return; } toggle(i); }
function toggle(i){ if(!players[i])return; var p=players[i]; if(p.getPlayerState()===1) p.pauseVideo(); else p.playVideo(); }
function playV(i){ if(!players[i])return; var p=players[i]; p.seekTo(list[i].ranges[0].s,true); p.playVideo(); }
function stopA(){ for(var k in players){ try{players[k].pauseVideo();}catch(e){} } }
function startM(i){ if(timer)clearInterval(timer); timer=setInterval(function(){ var p=players[i]; if(!p)return; var c=p.getCurrentTime(); var r=list[i].ranges[0]; if(r.e>0 && c>=r.e){ swiper.slideNext(); } },100); }
init();</script></body></html>